{"version":3,"file":"server.1d7e2f218e2d50ebb411.hot-update.js","sources":["webpack://bills_api/./src/application.module.ts","webpack://bills_api/./src/mikro-orm.config.ts","webpack://bills_api/external \"path\"","webpack://bills_api/webpack/runtime/getFullHash"],"sourcesContent":["import { MikroOrmModule } from \"@mikro-orm/nestjs\";\nimport { Module } from \"@nestjs/common\";\nimport { ConfigModule, ConfigService } from \"@nestjs/config\";\nimport { GraphQLModule } from \"@nestjs/graphql\";\nimport { LoggerModule } from \"nestjs-pino\";\nimport { AuthenticationModule, UserModule } from \"@/modules\";\nimport { envSchema } from \"@/utils/env.schema\";\nimport { getConfiguration } from \"./mikro-orm.config\";\nlet ApplicationModule = class ApplicationModule {\n};\nApplicationModule = __decorate([\n    Module({\n        imports: [\n            LoggerModule.forRoot({\n                pinoHttp: {\n                    base: { name: \"Billz\" },\n                    messageKey: \"message\",\n                    autoLogging: process.env.NODE_ENV === \"production\",\n                    level: process.env.NODE_ENV !== \"production\" ? \"debug\" : \"info\",\n                    prettyPrint: process.env.NODE_ENV !== \"production\"\n                        ? {\n                            translateTime: \"dd/mm/yyyy, hh:MM:ss:l\",\n                            ignore: \"context,pid,req\",\n                            levelFirst: true,\n                        }\n                        : undefined,\n                },\n            }),\n            ConfigModule.forRoot({\n                isGlobal: true,\n                validationSchema: envSchema,\n            }),\n            GraphQLModule.forRootAsync({\n                inject: [ConfigService],\n                useFactory: async (configService) => ({\n                    autoSchemaFile: configService.get(\"GRAPHQL_FILE\"),\n                    sortSchema: true,\n                    cors: true,\n                    context: ({ req, res }) => ({ req, res }),\n                }),\n            }),\n            MikroOrmModule.forRootAsync({\n                inject: [ConfigService],\n                useFactory: async (configService) => getConfiguration(configService),\n            }),\n            AuthenticationModule,\n            UserModule,\n        ],\n    })\n], ApplicationModule);\nexport { ApplicationModule };\n","import path from \"path\";\nimport * as entities from \"@/models\";\nexport function getConfiguration(configService) {\n    return {\n        type: configService?.get(\"DATABASE_TYPE\") ?? process.env.DATABASE_TYPE,\n        dbName: configService?.get(\"DATABASE_NAME\") ?? process.env.DATABASE_NAME,\n        host: configService?.get(\"DATABASE_HOST\") ?? process.env.DATABASE_HOST,\n        port: configService?.get(\"DATABASE_PORT\") ?? Number(process.env.DATABASE_PORT),\n        user: configService?.get(\"DATABASE_USER\") ?? process.env.DATABASE_USER,\n        password: configService?.get(\"DATABASE_PASS\") ?? process.env.DATABASE_PASS,\n        entities: Object.values(entities),\n        migrations: {\n            path: path.resolve(\"src/database/migrations\"),\n            allOrNothing: true,\n            transactional: true,\n            tableName: \"Migrations\",\n        },\n    };\n}\nexport default getConfiguration();\n","module.exports = require(\"path\");;","__webpack_require__.h = () => (\"5664a42b5c5314e3f0d7\")"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AANA;AADA;AAgBA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAFA;AAUA;AACA;AAFA;AA9BA;;;A;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AARA;AAeA;AACA;;A;;;;;;;;;ACnBA;;A;;;;;;;;;ACAA;;;;A","sourceRoot":""}