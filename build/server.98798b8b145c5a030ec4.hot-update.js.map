{"version":3,"file":"server.98798b8b145c5a030ec4.hot-update.js","sources":["webpack://bills_api/./src/utils/plugins/pagination.ts","webpack://bills_api/webpack/runtime/getFullHash"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Paginate = exports.PaginationArgs = exports.Pagination = void 0;\nconst graphql_1 = require(\"@nestjs/graphql\");\nconst class_validator_1 = require(\"class-validator\");\nfunction Pagination(modelFunc) {\n    const Model = modelFunc();\n    return (target, key, descriptor) => {\n        let PaginationType = class PaginationType {\n            total;\n            page;\n            pages;\n            items;\n        };\n        __decorate([\n            (0, graphql_1.Field)(() => graphql_1.Int),\n            __metadata(\"design:type\", Number)\n        ], PaginationType.prototype, \"total\", void 0);\n        __decorate([\n            (0, graphql_1.Field)(() => graphql_1.Int),\n            __metadata(\"design:type\", Number)\n        ], PaginationType.prototype, \"page\", void 0);\n        __decorate([\n            (0, graphql_1.Field)(() => graphql_1.Int),\n            __metadata(\"design:type\", Number)\n        ], PaginationType.prototype, \"pages\", void 0);\n        __decorate([\n            (0, graphql_1.Field)(() => [Model]),\n            __metadata(\"design:type\", Array)\n        ], PaginationType.prototype, \"items\", void 0);\n        PaginationType = __decorate([\n            (0, graphql_1.ObjectType)(`${Model.name}Pagination`)\n        ], PaginationType);\n        return (0, graphql_1.Query)(() => PaginationType)(target, key, descriptor);\n    };\n}\nexports.Pagination = Pagination;\nlet PaginationArgs = class PaginationArgs {\n    offset;\n    limit;\n};\n__decorate([\n    (0, graphql_1.Field)(() => graphql_1.Int),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.IsPositive)(),\n    __metadata(\"design:type\", Number)\n], PaginationArgs.prototype, \"offset\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => graphql_1.Int),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.IsPositive)(),\n    __metadata(\"design:type\", Number)\n], PaginationArgs.prototype, \"limit\", void 0);\nPaginationArgs = __decorate([\n    (0, graphql_1.ArgsType)()\n], PaginationArgs);\nexports.PaginationArgs = PaginationArgs;\nfunction Paginate(items, count, { limit, offset }) {\n    return { total: count, page: Math.floor(offset / limit), pages: Math.ceil(count / limit), items };\n}\nexports.Paginate = Paginate;\n","__webpack_require__.h = () => (\"7ef825c4a7bf68860567\")"],"mappings":";;;;;;;;;;;AAAA;AACA;;;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AAKA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AAGA;AACA;AAKA;AACA;AAKA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;;A;;;;;;;;;AC5DA;;;;A","sourceRoot":""}