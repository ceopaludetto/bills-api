{"version":3,"file":"server.5aee342010f2e5b0a99c.hot-update.js","sources":["webpack://bills_api/./src/modules/authentication/strategies/extract.ts","webpack://bills_api/./src/modules/authentication/strategies/jwt.strategy.ts","webpack://bills_api/webpack/runtime/getFullHash"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Extract = void 0;\nconst passport_jwt_1 = require(\"passport-jwt\");\nexports.Extract = {\n    accessToken: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken,\n    refreshToken: (request) => {\n        const header = request.header(\"Refresh-Token\");\n        if (!header)\n            return undefined;\n        if (!/Bearer/.test(header))\n            return undefined;\n        const [, token] = header.split(\"\");\n        if (!token)\n            return undefined;\n        return token;\n    },\n};\n","\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JwtStrategy = void 0;\nconst common_1 = require(\"@nestjs/common\");\nconst config_1 = require(\"@nestjs/config\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst passport_jwt_1 = require(\"passport-jwt\");\nconst authentication_service_1 = require(\"../authentication.service\");\nconst extract_1 = require(\"./extract\");\nlet JwtStrategy = class JwtStrategy extends (0, passport_1.PassportStrategy)(passport_jwt_1.Strategy) {\n    authenticationService;\n    constructor(configService, authenticationService) {\n        super({\n            jwtFromRequest: extract_1.Extract.accessToken,\n            ignoreExpiration: false,\n            secretOrKey: configService.get(\"AUTH_SECRET\"),\n        });\n        this.authenticationService = authenticationService;\n    }\n    async validate(payload) {\n        return this.authenticationService.validatePayload(payload);\n    }\n};\nJwtStrategy = __decorate([\n    (0, common_1.Injectable)(),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof config_1.ConfigService !== \"undefined\" && config_1.ConfigService) === \"function\" ? _a : Object, typeof (_b = typeof authentication_service_1.AuthenticationService !== \"undefined\" && authentication_service_1.AuthenticationService) === \"function\" ? _b : Object])\n], JwtStrategy);\nexports.JwtStrategy = JwtStrategy;\n","__webpack_require__.h = () => (\"770ba1efe9d221b3cd7f\")"],"mappings":";;;;;;;;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAZA;;A;;;;;;;;;ACJA;AACA;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AACA;AAFA;AACA;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AAbA;AAcA;AAIA;;A;;;;;;;;;AC5BA;;;;A","sourceRoot":""}