{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ApplicationModule = void 0;\n\nconst nestjs_1 = require(\"@mikro-orm/nestjs\");\n\nconst common_1 = require(\"@nestjs/common\");\n\nconst config_1 = require(\"@nestjs/config\");\n\nconst graphql_1 = require(\"@nestjs/graphql\");\n\nconst nestjs_pino_1 = require(\"nestjs-pino\");\n\nconst entities = __importStar(require(\"@/models\"));\n\nconst modules_1 = require(\"@/modules\");\n\nconst env_schema_1 = require(\"@/utils/env.schema\");\n\nlet ApplicationModule = class ApplicationModule {};\nApplicationModule = __decorate([(0, common_1.Module)({\n  imports: [nestjs_pino_1.LoggerModule.forRoot({\n    pinoHttp: {\n      base: {\n        name: \"Billz\"\n      },\n      messageKey: \"message\",\n      autoLogging: false,\n      level: true ? \"debug\" : \"info\",\n      prettyPrint: true ? {\n        translateTime: \"dd/mm/yyyy, hh:MM:ss:l\",\n        ignore: \"context,pid,req\",\n        levelFirst: true\n      } : undefined\n    }\n  }), config_1.ConfigModule.forRoot({\n    isGlobal: true,\n    validationSchema: env_schema_1.envSchema\n  }), graphql_1.GraphQLModule.forRootAsync({\n    inject: [config_1.ConfigService],\n    useFactory: async configService => ({\n      autoSchemaFile: configService.get(\"GRAPHQL_FILE\"),\n      sortSchema: true,\n      cors: true,\n      context: (request, response) => ({\n        request,\n        response\n      })\n    })\n  }), nestjs_1.MikroOrmModule.forRootAsync({\n    inject: [config_1.ConfigService],\n    useFactory: async configService => ({\n      type: configService.get(\"DATABASE_TYPE\"),\n      dbName: configService.get(\"DATABASE_NAME\"),\n      host: configService.get(\"DATABASE_HOST\"),\n      port: configService.get(\"DATABASE_PORT\"),\n      user: configService.get(\"DATABASE_USER\"),\n      password: configService.get(\"DATABASE_PASS\"),\n      entities: Object.values(entities)\n    })\n  }), modules_1.AuthenticationModule, modules_1.UserModule]\n})], ApplicationModule);\nexports.ApplicationModule = ApplicationModule;","map":{"version":3,"sources":["/Users/carlos/Documents/Projetos/Javascript/bills_api/src/application.module.ts"],"names":["Object","defineProperty","exports","value","ApplicationModule","nestjs_1","require","common_1","config_1","graphql_1","nestjs_pino_1","entities","__importStar","modules_1","env_schema_1","__decorate","Module","imports","LoggerModule","forRoot","pinoHttp","base","name","messageKey","autoLogging","level","prettyPrint","translateTime","ignore","levelFirst","undefined","ConfigModule","isGlobal","validationSchema","envSchema","GraphQLModule","forRootAsync","inject","ConfigService","useFactory","configService","autoSchemaFile","get","sortSchema","cors","context","request","response","MikroOrmModule","type","dbName","host","port","user","password","values","AuthenticationModule","UserModule"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ApplicationModule = void 0;\nconst nestjs_1 = require(\"@mikro-orm/nestjs\");\nconst common_1 = require(\"@nestjs/common\");\nconst config_1 = require(\"@nestjs/config\");\nconst graphql_1 = require(\"@nestjs/graphql\");\nconst nestjs_pino_1 = require(\"nestjs-pino\");\nconst entities = __importStar(require(\"@/models\"));\nconst modules_1 = require(\"@/modules\");\nconst env_schema_1 = require(\"@/utils/env.schema\");\nlet ApplicationModule = class ApplicationModule {\n};\nApplicationModule = __decorate([\n    (0, common_1.Module)({\n        imports: [\n            nestjs_pino_1.LoggerModule.forRoot({\n                pinoHttp: {\n                    base: { name: \"Billz\" },\n                    messageKey: \"message\",\n                    autoLogging: process.env.NODE_ENV === \"production\",\n                    level: process.env.NODE_ENV !== \"production\" ? \"debug\" : \"info\",\n                    prettyPrint: process.env.NODE_ENV !== \"production\"\n                        ? {\n                            translateTime: \"dd/mm/yyyy, hh:MM:ss:l\",\n                            ignore: \"context,pid,req\",\n                            levelFirst: true,\n                        }\n                        : undefined,\n                },\n            }),\n            config_1.ConfigModule.forRoot({\n                isGlobal: true,\n                validationSchema: env_schema_1.envSchema,\n            }),\n            graphql_1.GraphQLModule.forRootAsync({\n                inject: [config_1.ConfigService],\n                useFactory: async (configService) => ({\n                    autoSchemaFile: configService.get(\"GRAPHQL_FILE\"),\n                    sortSchema: true,\n                    cors: true,\n                    context: (request, response) => ({ request, response }),\n                }),\n            }),\n            nestjs_1.MikroOrmModule.forRootAsync({\n                inject: [config_1.ConfigService],\n                useFactory: async (configService) => ({\n                    type: configService.get(\"DATABASE_TYPE\"),\n                    dbName: configService.get(\"DATABASE_NAME\"),\n                    host: configService.get(\"DATABASE_HOST\"),\n                    port: configService.get(\"DATABASE_PORT\"),\n                    user: configService.get(\"DATABASE_USER\"),\n                    password: configService.get(\"DATABASE_PASS\"),\n                    entities: Object.values(entities),\n                }),\n            }),\n            modules_1.AuthenticationModule,\n            modules_1.UserModule,\n        ],\n    })\n], ApplicationModule);\nexports.ApplicationModule = ApplicationModule;\n"]},"metadata":{},"sourceType":"script"}