{"ast":null,"code":"\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _a, _b, _c, _d;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Paginate = exports.ConnectionArgs = exports.Pagination = exports.PageInfo = void 0;\n\nconst graphql_1 = require(\"@nestjs/graphql\");\n\nrequire(\"class-validator\");\n\nconst Relay = __importStar(require(\"graphql-relay\"));\n\nlet PageInfo = class PageInfo {\n  constructor() {\n    _defineProperty(this, \"hasNextPage\", void 0);\n\n    _defineProperty(this, \"hasPreviousPage\", void 0);\n\n    _defineProperty(this, \"startCursor\", void 0);\n\n    _defineProperty(this, \"endCursor\", void 0);\n  }\n\n};\n\n__decorate([(0, graphql_1.Field)(() => Boolean), __metadata(\"design:type\", Boolean)], PageInfo.prototype, \"hasNextPage\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => Boolean), __metadata(\"design:type\", Boolean)], PageInfo.prototype, \"hasPreviousPage\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => String), __metadata(\"design:type\", typeof (_a = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _a : Object)], PageInfo.prototype, \"startCursor\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => String), __metadata(\"design:type\", typeof (_b = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _b : Object)], PageInfo.prototype, \"endCursor\", void 0);\n\nPageInfo = __decorate([(0, graphql_1.ObjectType)()], PageInfo);\nexports.PageInfo = PageInfo;\n\nfunction Pagination(modelFunc) {\n  const Model = modelFunc();\n  return (target, key, descriptor) => {\n    var _a, _b;\n\n    let Edge = class Edge {\n      constructor() {\n        _defineProperty(this, \"node\", void 0);\n\n        _defineProperty(this, \"cursor\", void 0);\n      }\n\n    };\n\n    __decorate([(0, graphql_1.Field)(() => Model, {\n      nullable: true\n    }), __metadata(\"design:type\", Object)], Edge.prototype, \"node\", void 0);\n\n    __decorate([(0, graphql_1.Field)(() => String), __metadata(\"design:type\", typeof (_a = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _a : Object)], Edge.prototype, \"cursor\", void 0);\n\n    Edge = __decorate([(0, graphql_1.ObjectType)(`${Model.name}Edge`)], Edge);\n    let Connection = class Connection {\n      constructor() {\n        _defineProperty(this, \"edges\", void 0);\n\n        _defineProperty(this, \"pageInfo\", void 0);\n      }\n\n    };\n\n    __decorate([(0, graphql_1.Field)(() => [Edge], {\n      nullable: \"itemsAndList\"\n    }), __metadata(\"design:type\", Array)], Connection.prototype, \"edges\", void 0);\n\n    __decorate([(0, graphql_1.Field)(() => PageInfo), __metadata(\"design:type\", typeof (_b = typeof Relay !== \"undefined\" && Relay.PageInfo) === \"function\" ? _b : Object)], Connection.prototype, \"pageInfo\", void 0);\n\n    Connection = __decorate([(0, graphql_1.ObjectType)(`${Model.name}Connection`)], Connection);\n    return (0, graphql_1.Query)(() => Connection)(target, key, descriptor);\n  };\n}\n\nexports.Pagination = Pagination;\nlet ConnectionArgs = class ConnectionArgs {\n  constructor() {\n    _defineProperty(this, \"before\", void 0);\n\n    _defineProperty(this, \"after\", void 0);\n\n    _defineProperty(this, \"first\", void 0);\n\n    _defineProperty(this, \"last\", void 0);\n  }\n\n};\n\n__decorate([(0, graphql_1.Field)(() => String, {\n  nullable: true\n}), __metadata(\"design:type\", typeof (_c = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _c : Object)], ConnectionArgs.prototype, \"before\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => String, {\n  nullable: true\n}), __metadata(\"design:type\", typeof (_d = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _d : Object)], ConnectionArgs.prototype, \"after\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => graphql_1.Int, {\n  nullable: true\n}), __metadata(\"design:type\", Number)], ConnectionArgs.prototype, \"first\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => graphql_1.Int, {\n  nullable: true\n}), __metadata(\"design:type\", Number)], ConnectionArgs.prototype, \"last\", void 0);\n\nConnectionArgs = __decorate([(0, graphql_1.ArgsType)()], ConnectionArgs);\nexports.ConnectionArgs = ConnectionArgs;\n\nfunction Paginate(items, count, {\n  limit,\n  offset\n}) {\n  return {\n    total: count,\n    page: Math.floor(offset / limit),\n    pages: Math.ceil(count / limit),\n    items\n  };\n}\n\nexports.Paginate = Paginate;","map":{"version":3,"sources":["/Users/carlos/Documents/Projetos/Javascript/bills_api/src/utils/plugins/pagination.ts"],"names":["_a","_b","_c","_d","Object","defineProperty","exports","value","Paginate","ConnectionArgs","Pagination","PageInfo","graphql_1","require","Relay","__importStar","__decorate","Field","Boolean","__metadata","prototype","String","ConnectionCursor","ObjectType","modelFunc","Model","target","key","descriptor","Edge","nullable","name","Connection","Array","Query","Int","Number","ArgsType","items","count","limit","offset","total","page","Math","floor","pages","ceil"],"mappings":"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","sourcesContent":["\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Paginate = exports.ConnectionArgs = exports.Pagination = exports.PageInfo = void 0;\nconst graphql_1 = require(\"@nestjs/graphql\");\nrequire(\"class-validator\");\nconst Relay = __importStar(require(\"graphql-relay\"));\nlet PageInfo = class PageInfo {\n    hasNextPage;\n    hasPreviousPage;\n    startCursor;\n    endCursor;\n};\n__decorate([\n    (0, graphql_1.Field)(() => Boolean),\n    __metadata(\"design:type\", Boolean)\n], PageInfo.prototype, \"hasNextPage\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => Boolean),\n    __metadata(\"design:type\", Boolean)\n], PageInfo.prototype, \"hasPreviousPage\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => String),\n    __metadata(\"design:type\", typeof (_a = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _a : Object)\n], PageInfo.prototype, \"startCursor\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => String),\n    __metadata(\"design:type\", typeof (_b = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _b : Object)\n], PageInfo.prototype, \"endCursor\", void 0);\nPageInfo = __decorate([\n    (0, graphql_1.ObjectType)()\n], PageInfo);\nexports.PageInfo = PageInfo;\nfunction Pagination(modelFunc) {\n    const Model = modelFunc();\n    return (target, key, descriptor) => {\n        var _a, _b;\n        let Edge = class Edge {\n            node;\n            cursor;\n        };\n        __decorate([\n            (0, graphql_1.Field)(() => Model, { nullable: true }),\n            __metadata(\"design:type\", Object)\n        ], Edge.prototype, \"node\", void 0);\n        __decorate([\n            (0, graphql_1.Field)(() => String),\n            __metadata(\"design:type\", typeof (_a = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _a : Object)\n        ], Edge.prototype, \"cursor\", void 0);\n        Edge = __decorate([\n            (0, graphql_1.ObjectType)(`${Model.name}Edge`)\n        ], Edge);\n        let Connection = class Connection {\n            edges;\n            pageInfo;\n        };\n        __decorate([\n            (0, graphql_1.Field)(() => [Edge], { nullable: \"itemsAndList\" }),\n            __metadata(\"design:type\", Array)\n        ], Connection.prototype, \"edges\", void 0);\n        __decorate([\n            (0, graphql_1.Field)(() => PageInfo),\n            __metadata(\"design:type\", typeof (_b = typeof Relay !== \"undefined\" && Relay.PageInfo) === \"function\" ? _b : Object)\n        ], Connection.prototype, \"pageInfo\", void 0);\n        Connection = __decorate([\n            (0, graphql_1.ObjectType)(`${Model.name}Connection`)\n        ], Connection);\n        return (0, graphql_1.Query)(() => Connection)(target, key, descriptor);\n    };\n}\nexports.Pagination = Pagination;\nlet ConnectionArgs = class ConnectionArgs {\n    before;\n    after;\n    first;\n    last;\n};\n__decorate([\n    (0, graphql_1.Field)(() => String, { nullable: true }),\n    __metadata(\"design:type\", typeof (_c = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _c : Object)\n], ConnectionArgs.prototype, \"before\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => String, { nullable: true }),\n    __metadata(\"design:type\", typeof (_d = typeof Relay !== \"undefined\" && Relay.ConnectionCursor) === \"function\" ? _d : Object)\n], ConnectionArgs.prototype, \"after\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => graphql_1.Int, { nullable: true }),\n    __metadata(\"design:type\", Number)\n], ConnectionArgs.prototype, \"first\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => graphql_1.Int, { nullable: true }),\n    __metadata(\"design:type\", Number)\n], ConnectionArgs.prototype, \"last\", void 0);\nConnectionArgs = __decorate([\n    (0, graphql_1.ArgsType)()\n], ConnectionArgs);\nexports.ConnectionArgs = ConnectionArgs;\nfunction Paginate(items, count, { limit, offset }) {\n    return { total: count, page: Math.floor(offset / limit), pages: Math.ceil(count / limit), items };\n}\nexports.Paginate = Paginate;\n"]},"metadata":{},"sourceType":"script"}