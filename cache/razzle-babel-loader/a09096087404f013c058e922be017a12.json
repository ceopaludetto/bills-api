{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _a, _b, _c, _d, _e;\n\nimport { UseGuards } from \"@nestjs/common\";\nimport { Args, Context, Mutation, Query, Resolver } from \"@nestjs/graphql\";\nimport { User } from \"@/models\";\nimport { UserService } from \"@/modules/user\";\nimport { CurrentUser } from \"./authentication.decorator\";\nimport { AuthenticationRegisterInput, AuthenticationLoginInput } from \"./authentication.dto\";\nimport { GqlAuthenticationGuard } from \"./authentication.guard\";\nimport { AuthenticationService } from \"./authentication.service\";\nlet AuthenticationResolver = class AuthenticationResolver {\n  constructor(authenticationService, userService) {\n    _defineProperty(this, \"authenticationService\", void 0);\n\n    _defineProperty(this, \"userService\", void 0);\n\n    this.authenticationService = authenticationService;\n    this.userService = userService;\n  }\n\n  async profile(user) {\n    return this.userService.findByID(user.id);\n  }\n\n  async login(data, {\n    res\n  }) {\n    return this.authenticationService.login(data, res);\n  }\n\n  async register(data, {\n    res\n  }) {\n    return this.authenticationService.register(data, res);\n  }\n\n};\n\n__decorate([UseGuards(GqlAuthenticationGuard), Query(() => User), __param(0, CurrentUser()), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_a = typeof User !== \"undefined\" && User) === \"function\" ? _a : Object]), __metadata(\"design:returntype\", Promise)], AuthenticationResolver.prototype, \"profile\", null);\n\n__decorate([Mutation(() => User), __param(0, Args(\"input\")), __param(1, Context()), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_b = typeof AuthenticationLoginInput !== \"undefined\" && AuthenticationLoginInput) === \"function\" ? _b : Object, Object]), __metadata(\"design:returntype\", Promise)], AuthenticationResolver.prototype, \"login\", null);\n\n__decorate([Mutation(() => User), __param(0, Args(\"input\")), __param(1, Context()), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [typeof (_c = typeof AuthenticationRegisterInput !== \"undefined\" && AuthenticationRegisterInput) === \"function\" ? _c : Object, Object]), __metadata(\"design:returntype\", Promise)], AuthenticationResolver.prototype, \"register\", null);\n\nAuthenticationResolver = __decorate([Resolver(() => User), __metadata(\"design:paramtypes\", [typeof (_d = typeof AuthenticationService !== \"undefined\" && AuthenticationService) === \"function\" ? _d : Object, typeof (_e = typeof UserService !== \"undefined\" && UserService) === \"function\" ? _e : Object])], AuthenticationResolver);\nexport { AuthenticationResolver };","map":{"version":3,"sources":["/Users/carlos/Documents/Projetos/Javascript/bills_api/src/modules/authentication/authentication.resolver.ts"],"names":["_a","_b","_c","_d","_e","UseGuards","Args","Context","Mutation","Query","Resolver","User","UserService","CurrentUser","AuthenticationRegisterInput","AuthenticationLoginInput","GqlAuthenticationGuard","AuthenticationService","AuthenticationResolver","constructor","authenticationService","userService","profile","user","findByID","id","login","data","res","register","__decorate","__param","__metadata","Function","Object","Promise","prototype"],"mappings":";;AAAA,IAAIA,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB;;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,QAAxB,EAAkCC,KAAlC,EAAyCC,QAAzC,QAAyD,iBAAzD;AACA,SAASC,IAAT,QAAqB,UAArB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,2BAAT,EAAsCC,wBAAtC,QAAsE,sBAAtE;AACA,SAASC,sBAAT,QAAuC,wBAAvC;AACA,SAASC,qBAAT,QAAsC,0BAAtC;AACA,IAAIC,sBAAsB,GAAG,MAAMA,sBAAN,CAA6B;AAGtDC,EAAAA,WAAW,CAACC,qBAAD,EAAwBC,WAAxB,EAAqC;AAAA;;AAAA;;AAC5C,SAAKD,qBAAL,GAA6BA,qBAA7B;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACH;;AACY,QAAPC,OAAO,CAACC,IAAD,EAAO;AAChB,WAAO,KAAKF,WAAL,CAAiBG,QAAjB,CAA0BD,IAAI,CAACE,EAA/B,CAAP;AACH;;AACU,QAALC,KAAK,CAACC,IAAD,EAAO;AAAEC,IAAAA;AAAF,GAAP,EAAgB;AACvB,WAAO,KAAKR,qBAAL,CAA2BM,KAA3B,CAAiCC,IAAjC,EAAuCC,GAAvC,CAAP;AACH;;AACa,QAARC,QAAQ,CAACF,IAAD,EAAO;AAAEC,IAAAA;AAAF,GAAP,EAAgB;AAC1B,WAAO,KAAKR,qBAAL,CAA2BS,QAA3B,CAAoCF,IAApC,EAA0CC,GAA1C,CAAP;AACH;;AAfqD,CAA1D;;AAiBAE,UAAU,CAAC,CACPzB,SAAS,CAACW,sBAAD,CADF,EAEPP,KAAK,CAAC,MAAME,IAAP,CAFE,EAGPoB,OAAO,CAAC,CAAD,EAAIlB,WAAW,EAAf,CAHA,EAIPmB,UAAU,CAAC,aAAD,EAAgBC,QAAhB,CAJH,EAKPD,UAAU,CAAC,mBAAD,EAAsB,CAAC,QAAQhC,EAAE,GAAG,OAAOW,IAAP,KAAgB,WAAhB,IAA+BA,IAA5C,MAAsD,UAAtD,GAAmEX,EAAnE,GAAwEkC,MAAzE,CAAtB,CALH,EAMPF,UAAU,CAAC,mBAAD,EAAsBG,OAAtB,CANH,CAAD,EAOPjB,sBAAsB,CAACkB,SAPhB,EAO2B,SAP3B,EAOsC,IAPtC,CAAV;;AAQAN,UAAU,CAAC,CACPtB,QAAQ,CAAC,MAAMG,IAAP,CADD,EAEPoB,OAAO,CAAC,CAAD,EAAIzB,IAAI,CAAC,OAAD,CAAR,CAFA,EAGPyB,OAAO,CAAC,CAAD,EAAIxB,OAAO,EAAX,CAHA,EAIPyB,UAAU,CAAC,aAAD,EAAgBC,QAAhB,CAJH,EAKPD,UAAU,CAAC,mBAAD,EAAsB,CAAC,QAAQ/B,EAAE,GAAG,OAAOc,wBAAP,KAAoC,WAApC,IAAmDA,wBAAhE,MAA8F,UAA9F,GAA2Gd,EAA3G,GAAgHiC,MAAjH,EAAyHA,MAAzH,CAAtB,CALH,EAMPF,UAAU,CAAC,mBAAD,EAAsBG,OAAtB,CANH,CAAD,EAOPjB,sBAAsB,CAACkB,SAPhB,EAO2B,OAP3B,EAOoC,IAPpC,CAAV;;AAQAN,UAAU,CAAC,CACPtB,QAAQ,CAAC,MAAMG,IAAP,CADD,EAEPoB,OAAO,CAAC,CAAD,EAAIzB,IAAI,CAAC,OAAD,CAAR,CAFA,EAGPyB,OAAO,CAAC,CAAD,EAAIxB,OAAO,EAAX,CAHA,EAIPyB,UAAU,CAAC,aAAD,EAAgBC,QAAhB,CAJH,EAKPD,UAAU,CAAC,mBAAD,EAAsB,CAAC,QAAQ9B,EAAE,GAAG,OAAOY,2BAAP,KAAuC,WAAvC,IAAsDA,2BAAnE,MAAoG,UAApG,GAAiHZ,EAAjH,GAAsHgC,MAAvH,EAA+HA,MAA/H,CAAtB,CALH,EAMPF,UAAU,CAAC,mBAAD,EAAsBG,OAAtB,CANH,CAAD,EAOPjB,sBAAsB,CAACkB,SAPhB,EAO2B,UAP3B,EAOuC,IAPvC,CAAV;;AAQAlB,sBAAsB,GAAGY,UAAU,CAAC,CAChCpB,QAAQ,CAAC,MAAMC,IAAP,CADwB,EAEhCqB,UAAU,CAAC,mBAAD,EAAsB,CAAC,QAAQ7B,EAAE,GAAG,OAAOc,qBAAP,KAAiC,WAAjC,IAAgDA,qBAA7D,MAAwF,UAAxF,GAAqGd,EAArG,GAA0G+B,MAA3G,EAAmH,QAAQ9B,EAAE,GAAG,OAAOQ,WAAP,KAAuB,WAAvB,IAAsCA,WAAnD,MAAoE,UAApE,GAAiFR,EAAjF,GAAsF8B,MAAzM,CAAtB,CAFsB,CAAD,EAGhChB,sBAHgC,CAAnC;AAIA,SAASA,sBAAT","sourcesContent":["var _a, _b, _c, _d, _e;\nimport { UseGuards } from \"@nestjs/common\";\nimport { Args, Context, Mutation, Query, Resolver } from \"@nestjs/graphql\";\nimport { User } from \"@/models\";\nimport { UserService } from \"@/modules/user\";\nimport { CurrentUser } from \"./authentication.decorator\";\nimport { AuthenticationRegisterInput, AuthenticationLoginInput } from \"./authentication.dto\";\nimport { GqlAuthenticationGuard } from \"./authentication.guard\";\nimport { AuthenticationService } from \"./authentication.service\";\nlet AuthenticationResolver = class AuthenticationResolver {\n    authenticationService;\n    userService;\n    constructor(authenticationService, userService) {\n        this.authenticationService = authenticationService;\n        this.userService = userService;\n    }\n    async profile(user) {\n        return this.userService.findByID(user.id);\n    }\n    async login(data, { res }) {\n        return this.authenticationService.login(data, res);\n    }\n    async register(data, { res }) {\n        return this.authenticationService.register(data, res);\n    }\n};\n__decorate([\n    UseGuards(GqlAuthenticationGuard),\n    Query(() => User),\n    __param(0, CurrentUser()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof User !== \"undefined\" && User) === \"function\" ? _a : Object]),\n    __metadata(\"design:returntype\", Promise)\n], AuthenticationResolver.prototype, \"profile\", null);\n__decorate([\n    Mutation(() => User),\n    __param(0, Args(\"input\")),\n    __param(1, Context()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [typeof (_b = typeof AuthenticationLoginInput !== \"undefined\" && AuthenticationLoginInput) === \"function\" ? _b : Object, Object]),\n    __metadata(\"design:returntype\", Promise)\n], AuthenticationResolver.prototype, \"login\", null);\n__decorate([\n    Mutation(() => User),\n    __param(0, Args(\"input\")),\n    __param(1, Context()),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [typeof (_c = typeof AuthenticationRegisterInput !== \"undefined\" && AuthenticationRegisterInput) === \"function\" ? _c : Object, Object]),\n    __metadata(\"design:returntype\", Promise)\n], AuthenticationResolver.prototype, \"register\", null);\nAuthenticationResolver = __decorate([\n    Resolver(() => User),\n    __metadata(\"design:paramtypes\", [typeof (_d = typeof AuthenticationService !== \"undefined\" && AuthenticationService) === \"function\" ? _d : Object, typeof (_e = typeof UserService !== \"undefined\" && UserService) === \"function\" ? _e : Object])\n], AuthenticationResolver);\nexport { AuthenticationResolver };\n"]},"metadata":{},"sourceType":"module"}