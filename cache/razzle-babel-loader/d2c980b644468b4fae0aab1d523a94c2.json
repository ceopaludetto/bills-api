{"ast":null,"code":"\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nconst core_1 = require(\"@mikro-orm/core\");\n\nconst graphql_1 = require(\"@nestjs/graphql\");\n\nconst bcryptjs_1 = __importDefault(require(\"bcryptjs\"));\n\nconst base_model_1 = require(\"./base.model\");\n\nconst bill_model_1 = require(\"./bill.model\");\n\nlet User = class User extends base_model_1.BaseModel {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"firstName\", void 0);\n\n    _defineProperty(this, \"lastName\", void 0);\n\n    _defineProperty(this, \"email\", void 0);\n\n    _defineProperty(this, \"password\", void 0);\n\n    _defineProperty(this, \"bills\", new core_1.Collection(this));\n  }\n\n  get fullName() {\n    return `${this.firstName} ${this.lastName}`;\n  }\n\n  async comparePassword(password) {\n    return bcryptjs_1.default.compare(password, this.password);\n  }\n\n};\n\n__decorate([(0, graphql_1.Field)(), (0, core_1.Property)(), __metadata(\"design:type\", String)], User.prototype, \"firstName\", void 0);\n\n__decorate([(0, graphql_1.Field)(), (0, core_1.Property)(), __metadata(\"design:type\", String)], User.prototype, \"lastName\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => String), (0, core_1.Property)({\n  persist: false\n}), __metadata(\"design:type\", Object), __metadata(\"design:paramtypes\", [])], User.prototype, \"fullName\", null);\n\n__decorate([(0, graphql_1.Field)(), (0, core_1.Property)({\n  unique: true\n}), __metadata(\"design:type\", String)], User.prototype, \"email\", void 0);\n\n__decorate([(0, core_1.Property)({\n  hidden: true\n}), __metadata(\"design:type\", String)], User.prototype, \"password\", void 0);\n\n__decorate([(0, graphql_1.Field)(() => [bill_model_1.Bill]), (0, core_1.OneToMany)(() => bill_model_1.Bill, bill => bill.user, {\n  orphanRemoval: true\n}), __metadata(\"design:type\", typeof (_a = typeof core_1.Collection !== \"undefined\" && core_1.Collection) === \"function\" ? _a : Object)], User.prototype, \"bills\", void 0);\n\nUser = __decorate([(0, graphql_1.ObjectType)(), (0, core_1.Entity)({\n  tableName: \"User\"\n})], User);\nexports.User = User;","map":{"version":3,"sources":["/Users/carlos/Documents/Projetos/Javascript/bills_api/src/models/user.model.ts"],"names":["_a","Object","defineProperty","exports","value","User","core_1","require","graphql_1","bcryptjs_1","__importDefault","base_model_1","bill_model_1","BaseModel","Collection","fullName","firstName","lastName","comparePassword","password","default","compare","__decorate","Field","Property","__metadata","String","prototype","persist","unique","hidden","Bill","OneToMany","bill","user","orphanRemoval","ObjectType","Entity","tableName"],"mappings":"AAAA;;;;AACA,IAAIA,EAAJ;;AACAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,IAAR,GAAe,KAAK,CAApB;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,iBAAD,CAAtB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,iBAAD,CAAzB;;AACA,MAAME,UAAU,GAAGC,eAAe,CAACH,OAAO,CAAC,UAAD,CAAR,CAAlC;;AACA,MAAMI,YAAY,GAAGJ,OAAO,CAAC,cAAD,CAA5B;;AACA,MAAMK,YAAY,GAAGL,OAAO,CAAC,cAAD,CAA5B;;AACA,IAAIF,IAAI,GAAG,MAAMA,IAAN,SAAmBM,YAAY,CAACE,SAAhC,CAA0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,mCAQzC,IAAIP,MAAM,CAACQ,UAAX,CAAsB,IAAtB,CARyC;AAAA;;AAGrC,MAARC,QAAQ,GAAG;AACX,WAAQ,GAAE,KAAKC,SAAU,IAAG,KAAKC,QAAS,EAA1C;AACH;;AAIoB,QAAfC,eAAe,CAACC,QAAD,EAAW;AAC5B,WAAOV,UAAU,CAACW,OAAX,CAAmBC,OAAnB,CAA2BF,QAA3B,EAAqC,KAAKA,QAA1C,CAAP;AACH;;AAXgD,CAArD;;AAaAG,UAAU,CAAC,CACP,CAAC,GAAGd,SAAS,CAACe,KAAd,GADO,EAEP,CAAC,GAAGjB,MAAM,CAACkB,QAAX,GAFO,EAGPC,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAHH,CAAD,EAIPrB,IAAI,CAACsB,SAJE,EAIS,WAJT,EAIsB,KAAK,CAJ3B,CAAV;;AAKAL,UAAU,CAAC,CACP,CAAC,GAAGd,SAAS,CAACe,KAAd,GADO,EAEP,CAAC,GAAGjB,MAAM,CAACkB,QAAX,GAFO,EAGPC,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAHH,CAAD,EAIPrB,IAAI,CAACsB,SAJE,EAIS,UAJT,EAIqB,KAAK,CAJ1B,CAAV;;AAKAL,UAAU,CAAC,CACP,CAAC,GAAGd,SAAS,CAACe,KAAd,EAAqB,MAAMG,MAA3B,CADO,EAEP,CAAC,GAAGpB,MAAM,CAACkB,QAAX,EAAqB;AAAEI,EAAAA,OAAO,EAAE;AAAX,CAArB,CAFO,EAGPH,UAAU,CAAC,aAAD,EAAgBxB,MAAhB,CAHH,EAIPwB,UAAU,CAAC,mBAAD,EAAsB,EAAtB,CAJH,CAAD,EAKPpB,IAAI,CAACsB,SALE,EAKS,UALT,EAKqB,IALrB,CAAV;;AAMAL,UAAU,CAAC,CACP,CAAC,GAAGd,SAAS,CAACe,KAAd,GADO,EAEP,CAAC,GAAGjB,MAAM,CAACkB,QAAX,EAAqB;AAAEK,EAAAA,MAAM,EAAE;AAAV,CAArB,CAFO,EAGPJ,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAHH,CAAD,EAIPrB,IAAI,CAACsB,SAJE,EAIS,OAJT,EAIkB,KAAK,CAJvB,CAAV;;AAKAL,UAAU,CAAC,CACP,CAAC,GAAGhB,MAAM,CAACkB,QAAX,EAAqB;AAAEM,EAAAA,MAAM,EAAE;AAAV,CAArB,CADO,EAEPL,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAFH,CAAD,EAGPrB,IAAI,CAACsB,SAHE,EAGS,UAHT,EAGqB,KAAK,CAH1B,CAAV;;AAIAL,UAAU,CAAC,CACP,CAAC,GAAGd,SAAS,CAACe,KAAd,EAAqB,MAAM,CAACX,YAAY,CAACmB,IAAd,CAA3B,CADO,EAEP,CAAC,GAAGzB,MAAM,CAAC0B,SAAX,EAAsB,MAAMpB,YAAY,CAACmB,IAAzC,EAAgDE,IAAD,IAAUA,IAAI,CAACC,IAA9D,EAAoE;AAAEC,EAAAA,aAAa,EAAE;AAAjB,CAApE,CAFO,EAGPV,UAAU,CAAC,aAAD,EAAgB,QAAQzB,EAAE,GAAG,OAAOM,MAAM,CAACQ,UAAd,KAA6B,WAA7B,IAA4CR,MAAM,CAACQ,UAAhE,MAAgF,UAAhF,GAA6Fd,EAA7F,GAAkGC,MAAlH,CAHH,CAAD,EAIPI,IAAI,CAACsB,SAJE,EAIS,OAJT,EAIkB,KAAK,CAJvB,CAAV;;AAKAtB,IAAI,GAAGiB,UAAU,CAAC,CACd,CAAC,GAAGd,SAAS,CAAC4B,UAAd,GADc,EAEd,CAAC,GAAG9B,MAAM,CAAC+B,MAAX,EAAmB;AAAEC,EAAAA,SAAS,EAAE;AAAb,CAAnB,CAFc,CAAD,EAGdjC,IAHc,CAAjB;AAIAF,OAAO,CAACE,IAAR,GAAeA,IAAf","sourcesContent":["\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.User = void 0;\nconst core_1 = require(\"@mikro-orm/core\");\nconst graphql_1 = require(\"@nestjs/graphql\");\nconst bcryptjs_1 = __importDefault(require(\"bcryptjs\"));\nconst base_model_1 = require(\"./base.model\");\nconst bill_model_1 = require(\"./bill.model\");\nlet User = class User extends base_model_1.BaseModel {\n    firstName;\n    lastName;\n    get fullName() {\n        return `${this.firstName} ${this.lastName}`;\n    }\n    email;\n    password;\n    bills = new core_1.Collection(this);\n    async comparePassword(password) {\n        return bcryptjs_1.default.compare(password, this.password);\n    }\n};\n__decorate([\n    (0, graphql_1.Field)(),\n    (0, core_1.Property)(),\n    __metadata(\"design:type\", String)\n], User.prototype, \"firstName\", void 0);\n__decorate([\n    (0, graphql_1.Field)(),\n    (0, core_1.Property)(),\n    __metadata(\"design:type\", String)\n], User.prototype, \"lastName\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => String),\n    (0, core_1.Property)({ persist: false }),\n    __metadata(\"design:type\", Object),\n    __metadata(\"design:paramtypes\", [])\n], User.prototype, \"fullName\", null);\n__decorate([\n    (0, graphql_1.Field)(),\n    (0, core_1.Property)({ unique: true }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"email\", void 0);\n__decorate([\n    (0, core_1.Property)({ hidden: true }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"password\", void 0);\n__decorate([\n    (0, graphql_1.Field)(() => [bill_model_1.Bill]),\n    (0, core_1.OneToMany)(() => bill_model_1.Bill, (bill) => bill.user, { orphanRemoval: true }),\n    __metadata(\"design:type\", typeof (_a = typeof core_1.Collection !== \"undefined\" && core_1.Collection) === \"function\" ? _a : Object)\n], User.prototype, \"bills\", void 0);\nUser = __decorate([\n    (0, graphql_1.ObjectType)(),\n    (0, core_1.Entity)({ tableName: \"User\" })\n], User);\nexports.User = User;\n"]},"metadata":{},"sourceType":"script"}