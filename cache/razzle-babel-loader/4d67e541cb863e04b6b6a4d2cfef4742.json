{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getConfiguration = void 0;\n\nconst core_1 = require(\"@mikro-orm/core\");\n\nconst path_1 = __importDefault(require(\"path\"));\n\nconst entities = __importStar(require(\"@/models\"));\n\nfunction getConfiguration(configService) {\n  var _configService$get, _configService$get2, _configService$get3, _configService$get4, _configService$get5, _configService$get6;\n\n  return {\n    type: (_configService$get = configService === null || configService === void 0 ? void 0 : configService.get(\"DATABASE_TYPE\")) !== null && _configService$get !== void 0 ? _configService$get : process.env.DATABASE_TYPE,\n    dbName: (_configService$get2 = configService === null || configService === void 0 ? void 0 : configService.get(\"DATABASE_NAME\")) !== null && _configService$get2 !== void 0 ? _configService$get2 : process.env.DATABASE_NAME,\n    host: (_configService$get3 = configService === null || configService === void 0 ? void 0 : configService.get(\"DATABASE_HOST\")) !== null && _configService$get3 !== void 0 ? _configService$get3 : process.env.DATABASE_HOST,\n    port: (_configService$get4 = configService === null || configService === void 0 ? void 0 : configService.get(\"DATABASE_PORT\")) !== null && _configService$get4 !== void 0 ? _configService$get4 : Number(process.env.DATABASE_PORT),\n    user: (_configService$get5 = configService === null || configService === void 0 ? void 0 : configService.get(\"DATABASE_USER\")) !== null && _configService$get5 !== void 0 ? _configService$get5 : process.env.DATABASE_USER,\n    password: (_configService$get6 = configService === null || configService === void 0 ? void 0 : configService.get(\"DATABASE_PASS\")) !== null && _configService$get6 !== void 0 ? _configService$get6 : process.env.DATABASE_PASS,\n    entities: Object.values(entities),\n    namingStrategy: core_1.EntityCaseNamingStrategy,\n    migrations: {\n      path: path_1.default.resolve(\"src/database/migrations\"),\n      allOrNothing: true,\n      transactional: true,\n      tableName: \"Migrations\"\n    }\n  };\n}\n\nexports.getConfiguration = getConfiguration;\nexports.default = getConfiguration();","map":{"version":3,"sources":["/Users/carlos/Documents/Projetos/Javascript/bills_api/src/mikro-orm.config.ts"],"names":["Object","defineProperty","exports","value","getConfiguration","core_1","require","path_1","__importDefault","entities","__importStar","configService","type","get","process","env","DATABASE_TYPE","dbName","DATABASE_NAME","host","DATABASE_HOST","port","Number","DATABASE_PORT","user","DATABASE_USER","password","DATABASE_PASS","values","namingStrategy","EntityCaseNamingStrategy","migrations","path","default","resolve","allOrNothing","transactional","tableName"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,gBAAR,GAA2B,KAAK,CAAhC;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,iBAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGC,eAAe,CAACF,OAAO,CAAC,MAAD,CAAR,CAA9B;;AACA,MAAMG,QAAQ,GAAGC,YAAY,CAACJ,OAAO,CAAC,UAAD,CAAR,CAA7B;;AACA,SAASF,gBAAT,CAA0BO,aAA1B,EAAyC;AAAA;;AACrC,SAAO;AACHC,IAAAA,IAAI,wBAAED,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEE,GAAf,CAAmB,eAAnB,CAAF,mEAAyCC,OAAO,CAACC,GAAR,CAAYC,aADtD;AAEHC,IAAAA,MAAM,yBAAEN,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEE,GAAf,CAAmB,eAAnB,CAAF,qEAAyCC,OAAO,CAACC,GAAR,CAAYG,aAFxD;AAGHC,IAAAA,IAAI,yBAAER,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEE,GAAf,CAAmB,eAAnB,CAAF,qEAAyCC,OAAO,CAACC,GAAR,CAAYK,aAHtD;AAIHC,IAAAA,IAAI,yBAAEV,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEE,GAAf,CAAmB,eAAnB,CAAF,qEAAyCS,MAAM,CAACR,OAAO,CAACC,GAAR,CAAYQ,aAAb,CAJhD;AAKHC,IAAAA,IAAI,yBAAEb,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEE,GAAf,CAAmB,eAAnB,CAAF,qEAAyCC,OAAO,CAACC,GAAR,CAAYU,aALtD;AAMHC,IAAAA,QAAQ,yBAAEf,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEE,GAAf,CAAmB,eAAnB,CAAF,qEAAyCC,OAAO,CAACC,GAAR,CAAYY,aAN1D;AAOHlB,IAAAA,QAAQ,EAAET,MAAM,CAAC4B,MAAP,CAAcnB,QAAd,CAPP;AAQHoB,IAAAA,cAAc,EAAExB,MAAM,CAACyB,wBARpB;AASHC,IAAAA,UAAU,EAAE;AACRC,MAAAA,IAAI,EAAEzB,MAAM,CAAC0B,OAAP,CAAeC,OAAf,CAAuB,yBAAvB,CADE;AAERC,MAAAA,YAAY,EAAE,IAFN;AAGRC,MAAAA,aAAa,EAAE,IAHP;AAIRC,MAAAA,SAAS,EAAE;AAJH;AATT,GAAP;AAgBH;;AACDnC,OAAO,CAACE,gBAAR,GAA2BA,gBAA3B;AACAF,OAAO,CAAC+B,OAAR,GAAkB7B,gBAAgB,EAAlC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getConfiguration = void 0;\nconst core_1 = require(\"@mikro-orm/core\");\nconst path_1 = __importDefault(require(\"path\"));\nconst entities = __importStar(require(\"@/models\"));\nfunction getConfiguration(configService) {\n    return {\n        type: configService?.get(\"DATABASE_TYPE\") ?? process.env.DATABASE_TYPE,\n        dbName: configService?.get(\"DATABASE_NAME\") ?? process.env.DATABASE_NAME,\n        host: configService?.get(\"DATABASE_HOST\") ?? process.env.DATABASE_HOST,\n        port: configService?.get(\"DATABASE_PORT\") ?? Number(process.env.DATABASE_PORT),\n        user: configService?.get(\"DATABASE_USER\") ?? process.env.DATABASE_USER,\n        password: configService?.get(\"DATABASE_PASS\") ?? process.env.DATABASE_PASS,\n        entities: Object.values(entities),\n        namingStrategy: core_1.EntityCaseNamingStrategy,\n        migrations: {\n            path: path_1.default.resolve(\"src/database/migrations\"),\n            allOrNothing: true,\n            transactional: true,\n            tableName: \"Migrations\",\n        },\n    };\n}\nexports.getConfiguration = getConfiguration;\nexports.default = getConfiguration();\n"]},"metadata":{},"sourceType":"script"}