{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _a;\n\nimport { Collection, Entity, OneToMany, Property } from \"@mikro-orm/core\";\nimport { Field, ObjectType } from \"@nestjs/graphql\";\nimport bcrypt from \"bcryptjs\";\nimport { BaseModel } from \"./base.model\";\nimport { Bill } from \"./bill.model\";\nlet User = class User extends BaseModel {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"firstName\", void 0);\n\n    _defineProperty(this, \"lastName\", void 0);\n\n    _defineProperty(this, \"email\", void 0);\n\n    _defineProperty(this, \"password\", void 0);\n\n    _defineProperty(this, \"bills\", new Collection(this));\n  }\n\n  get fullName() {\n    return `${this.firstName} ${this.lastName}`;\n  }\n\n  async comparePassword(password) {\n    return bcrypt.compare(password, this.password);\n  }\n\n};\n\n__decorate([Field(), Property(), __metadata(\"design:type\", String)], User.prototype, \"firstName\", void 0);\n\n__decorate([Field(), Property(), __metadata(\"design:type\", String)], User.prototype, \"lastName\", void 0);\n\n__decorate([Field(() => String), Property({\n  persist: false\n}), __metadata(\"design:type\", Object), __metadata(\"design:paramtypes\", [])], User.prototype, \"fullName\", null);\n\n__decorate([Field(), Property({\n  unique: true\n}), __metadata(\"design:type\", String)], User.prototype, \"email\", void 0);\n\n__decorate([Property({\n  hidden: true\n}), __metadata(\"design:type\", String)], User.prototype, \"password\", void 0);\n\n__decorate([Field(() => [Bill]), OneToMany(() => Bill, bill => bill.user, {\n  orphanRemoval: true\n}), __metadata(\"design:type\", typeof (_a = typeof Collection !== \"undefined\" && Collection) === \"function\" ? _a : Object)], User.prototype, \"bills\", void 0);\n\nUser = __decorate([ObjectType(), Entity({\n  tableName: \"User\"\n})], User);\nexport { User };","map":{"version":3,"sources":["/Users/carlos/Documents/Projetos/Javascript/bills_api/src/models/user.model.ts"],"names":["_a","Collection","Entity","OneToMany","Property","Field","ObjectType","bcrypt","BaseModel","Bill","User","fullName","firstName","lastName","comparePassword","password","compare","__decorate","__metadata","String","prototype","persist","Object","unique","hidden","bill","user","orphanRemoval","tableName"],"mappings":";;AAAA,IAAIA,EAAJ;;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,iBAAxD;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,iBAAlC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,IAAIC,IAAI,GAAG,MAAMA,IAAN,SAAmBF,SAAnB,CAA6B;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,mCAQ5B,IAAIP,UAAJ,CAAe,IAAf,CAR4B;AAAA;;AAGxB,MAARU,QAAQ,GAAG;AACX,WAAQ,GAAE,KAAKC,SAAU,IAAG,KAAKC,QAAS,EAA1C;AACH;;AAIoB,QAAfC,eAAe,CAACC,QAAD,EAAW;AAC5B,WAAOR,MAAM,CAACS,OAAP,CAAeD,QAAf,EAAyB,KAAKA,QAA9B,CAAP;AACH;;AAXmC,CAAxC;;AAaAE,UAAU,CAAC,CACPZ,KAAK,EADE,EAEPD,QAAQ,EAFD,EAGPc,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAHH,CAAD,EAIPT,IAAI,CAACU,SAJE,EAIS,WAJT,EAIsB,KAAK,CAJ3B,CAAV;;AAKAH,UAAU,CAAC,CACPZ,KAAK,EADE,EAEPD,QAAQ,EAFD,EAGPc,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAHH,CAAD,EAIPT,IAAI,CAACU,SAJE,EAIS,UAJT,EAIqB,KAAK,CAJ1B,CAAV;;AAKAH,UAAU,CAAC,CACPZ,KAAK,CAAC,MAAMc,MAAP,CADE,EAEPf,QAAQ,CAAC;AAAEiB,EAAAA,OAAO,EAAE;AAAX,CAAD,CAFD,EAGPH,UAAU,CAAC,aAAD,EAAgBI,MAAhB,CAHH,EAIPJ,UAAU,CAAC,mBAAD,EAAsB,EAAtB,CAJH,CAAD,EAKPR,IAAI,CAACU,SALE,EAKS,UALT,EAKqB,IALrB,CAAV;;AAMAH,UAAU,CAAC,CACPZ,KAAK,EADE,EAEPD,QAAQ,CAAC;AAAEmB,EAAAA,MAAM,EAAE;AAAV,CAAD,CAFD,EAGPL,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAHH,CAAD,EAIPT,IAAI,CAACU,SAJE,EAIS,OAJT,EAIkB,KAAK,CAJvB,CAAV;;AAKAH,UAAU,CAAC,CACPb,QAAQ,CAAC;AAAEoB,EAAAA,MAAM,EAAE;AAAV,CAAD,CADD,EAEPN,UAAU,CAAC,aAAD,EAAgBC,MAAhB,CAFH,CAAD,EAGPT,IAAI,CAACU,SAHE,EAGS,UAHT,EAGqB,KAAK,CAH1B,CAAV;;AAIAH,UAAU,CAAC,CACPZ,KAAK,CAAC,MAAM,CAACI,IAAD,CAAP,CADE,EAEPN,SAAS,CAAC,MAAMM,IAAP,EAAcgB,IAAD,IAAUA,IAAI,CAACC,IAA5B,EAAkC;AAAEC,EAAAA,aAAa,EAAE;AAAjB,CAAlC,CAFF,EAGPT,UAAU,CAAC,aAAD,EAAgB,QAAQlB,EAAE,GAAG,OAAOC,UAAP,KAAsB,WAAtB,IAAqCA,UAAlD,MAAkE,UAAlE,GAA+ED,EAA/E,GAAoFsB,MAApG,CAHH,CAAD,EAIPZ,IAAI,CAACU,SAJE,EAIS,OAJT,EAIkB,KAAK,CAJvB,CAAV;;AAKAV,IAAI,GAAGO,UAAU,CAAC,CACdX,UAAU,EADI,EAEdJ,MAAM,CAAC;AAAE0B,EAAAA,SAAS,EAAE;AAAb,CAAD,CAFQ,CAAD,EAGdlB,IAHc,CAAjB;AAIA,SAASA,IAAT","sourcesContent":["var _a;\nimport { Collection, Entity, OneToMany, Property } from \"@mikro-orm/core\";\nimport { Field, ObjectType } from \"@nestjs/graphql\";\nimport bcrypt from \"bcryptjs\";\nimport { BaseModel } from \"./base.model\";\nimport { Bill } from \"./bill.model\";\nlet User = class User extends BaseModel {\n    firstName;\n    lastName;\n    get fullName() {\n        return `${this.firstName} ${this.lastName}`;\n    }\n    email;\n    password;\n    bills = new Collection(this);\n    async comparePassword(password) {\n        return bcrypt.compare(password, this.password);\n    }\n};\n__decorate([\n    Field(),\n    Property(),\n    __metadata(\"design:type\", String)\n], User.prototype, \"firstName\", void 0);\n__decorate([\n    Field(),\n    Property(),\n    __metadata(\"design:type\", String)\n], User.prototype, \"lastName\", void 0);\n__decorate([\n    Field(() => String),\n    Property({ persist: false }),\n    __metadata(\"design:type\", Object),\n    __metadata(\"design:paramtypes\", [])\n], User.prototype, \"fullName\", null);\n__decorate([\n    Field(),\n    Property({ unique: true }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"email\", void 0);\n__decorate([\n    Property({ hidden: true }),\n    __metadata(\"design:type\", String)\n], User.prototype, \"password\", void 0);\n__decorate([\n    Field(() => [Bill]),\n    OneToMany(() => Bill, (bill) => bill.user, { orphanRemoval: true }),\n    __metadata(\"design:type\", typeof (_a = typeof Collection !== \"undefined\" && Collection) === \"function\" ? _a : Object)\n], User.prototype, \"bills\", void 0);\nUser = __decorate([\n    ObjectType(),\n    Entity({ tableName: \"User\" })\n], User);\nexport { User };\n"]},"metadata":{},"sourceType":"module"}